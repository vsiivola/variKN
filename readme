INTRODUCTION

VariKN language modeling toolkit provides tools for training n-gram
language models. Amongst the supported methods are: 

- Absolute discounting 
- Kneser-Ney smoothing 
- Revised Kneser pruning 
- Kneser-Ney growing 

The descriptions of Revised Kneser pruning and Kneser-Ney growing can
be found in the paper Vesa Siivola and Teemu HirsimÃ¤ki and Sami
Virpioja, "On Growing and Pruning Kneser-Ney Smoothed N-Gram Models",
IEEE Transactions on Speech, Audio and Language Processing,
15(5):1617-1624, 2007 (available at 
https://sites.google.com/site/vesassiivola/publications/TASLP2007.pdf). 

The package provides a more accurate pruning for Kneser-Ney smoothed
models than the other implementations I know of. Also, it is possible
to train a very high-order n-gram models with the growing
algorithm. The models can be output to arpa lm format, which is
compatible with most common other tools in the field. However, the
toolkit is poorly documented - you can look at the paper Vesa Siivola,
Mathias Creutz and Mikko Kurimo: "Morfessor and VariKN machine
learning tools for speech and language technology", Proceedings of the
8th International Conference on Speech Communication and Technology
(INTERSPEECH'07), 2007 (available at 
https://sites.google.com/site/vesassiivola/publications/is2007less.pdf) 
for guidelines on typical use but that is about
it. If you are interested in a well supported toolkit that provides a
wide range of functionality, you might want to look at the srilm
toolkit (http://www-speech.sri.com/projects/srilm/).

If it looks like there is interest in using the toolkit but the
documentation is inadequate, let me know the main sticking points
and I'll try to do something about it.

INSTALLATION:

Building the varikn toolkit requires the CMake tool.  CMake is a
makefile generator (like Autoconf). The build script is in
CMakeLists.txt.  
    
The convention for CMake is to build "out-of-source", where all the
work is done in a separate directory from your source directory.
First, we configure the build (we only need to do this once): 

  mkdir build 
  cd build 
  cmake .. -DCMAKE_BUILD_TYPE=Release 

Subsequently you only need to run 'make' (or 'nmake' on Windows).  You
won't need to configure again unless you add or remove source files.
The executables will be compiled to the "bin" directory under your
build directory. It is up to you to move them somewhere else if 
needed.
    
Useful tricks: 
* By default, the makefiles generated by cmake are 'quiet'. To make
  them verbose (so you can see what's being passed to gcc, etc) use 
  the VERBOSE variable like this: make VERBOSE=1

* By default, cmake will configure for a "Debug" build.  To change 
  the kind of build, use the CMAKE_BUILD_TYPE variable:

  cmake .. -DCMAKE_BUILD_TYPE=Debug

* If you're experimenting with alternate build flags, you can define 
  them as environment variables before configuring.  For example:
   
  cd build
  export CXXFLAGS=-fmudflap
  cmake ..
  make

* If you are reconfiguring cmake with very different settings (for 
  example, switching from Debug to Release), you should start in a 
  new build folder or delete everything in your current build folder.

* CMake also supports generating IDE project files (MSVC, XCode, 
  etc). To get a list of what it supports, do "cmake -h".  For 
  example, to create an MSVC project:
  
  mkdir .build
  cd .build
  cmake .. -G "Visual Studio 9 2008"
  start Project.sln

  or to create an XCode project:

  mkdir .build
  cd .build
  cmake .. -G Xcode
  open Project.xcodeproj

* Note on Windows MSVC (MS Visual Studio):  In order for CMake to know 
  where the MSVC tools are, it needs to run in an MSVC-compatible 
  environment.  This can be done by

  1. Running the command prompt by clicking on 
     Start Menu\Programs\Microsoft Visual C++ 2008 Express Edition\Visual Studio Tools\Visual Studio 2008 Command Prompt
  2. Run this command within a pre-exiting command prompt:
     %VS90COMNTOOLS%\vsvars32.bat
      before you run cmake.  Otherwise you will get strange 
      configuration errors.
              
* Note on Eclipse CDT.  Eclipse is finicky about the way its 
  projects are laid out.  Instead of creating a "build" folder as 
  a child of your source dir you'll need to create it as a *sibling*.
  You'll also need to tell cmake to link the build dir to the source 
  dir in the Eclipse project. (See http://tinyurl.com/28zuhqb for 
  more information.)  For example:

  cd trunk
  mkdir ../.build-trunk
  cd ../.build-trunk
  cmake ../trunk/ -G "Eclipse CDT4 - Unix Makefiles" -DECLIPSE_CDT4_GENERATE_SOURCE_PROJECT=TRUE

  Then in Eclipse you'll do File->Import the project in .trunk-build.  
  Inside this project you'll see a link to "[Source Directory]".

* Language wrappers DLLs can be built for Python using Swig.  
  These are built automatically if the languages are detected by
  cmake. You can explicitly enable/disable building for these
  wrappers by passing -DPYTHON=1 (-DPYTHON=0). On Mac OS X, you can 
  force the python version to macports with -DMACPORTS_PYTHON_VERSION=2.6 .
  For using python 3 on other platforms than macports, see the comments
  in python-wrapper/CMakelists.txt.

TEST:

Building Unit tests can be enabled with "-DCMAKE_ENABLE_TESTING=1". The tests do not work on Windows yet. Unit tests can be ran with "make test" or "ctest --verbose". Unit tests require the unit test library from Boost.

USE:

See commands.html